angular.module("sbAdminApp").directive("gaugeJs",function(){return{restrict:"A",scope:{options:"=",currentValue:"=ngModel"},compile:function(tElem,tAttrs){if("CANVAS"!==tElem[0].tagName)throw new Error("guage-js can only be set on a canvas element. "+tElem[0].tagName+" will not work.");return function(scope,element,attrs){function setGauge(options){gauge=new Gauge(element[0]).setOptions(scope.options),gauge.maxValue=scope.options.maxValue,gauge.set(scope.currentValue)}var gauge;scope.$watch("options",function(newV,oldV){setGauge(scope.options)},!0),scope.$watch("currentValue",function(newV,oldV){scope.currentValue>scope.options.maxValue?gauge.set(scope.options.maxValue):gauge.set(scope.currentValue)})}}}});